---
import Code from "@/icons/Code.astro";
import SectionContainer from "@/components/SectionContainer.astro";
import ProjectsWithLoading from "@/components/ProjectsWithLoading.astro";

import { getI18N } from "@/i18n";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });

import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<SectionContainer id="projects" class="text-center sm:text-left text-pretty">
  <div class="flex items-center gap-2 mb-4 justify-center sm:justify-start">
    <h2 class="text-4xl opacity-70">{i18n.SECTION_TITLE.PROJECTS}</h2>
    <Code />
    <button
      class="dark:bg-aqua rounded-full px-2 text-bold sm:hover:opacity-75 transition bg-aqua2 text-slate-200 dark:text-black"
      >{i18n.PROJECTS_SHOWALL}</button
    >
  </div>
  <ProjectsWithLoading />
</SectionContainer>
